{"version":3,"sources":["component/my-tabbar/my-tabbar.js"],"names":["app","getApp","Component","options","addGlobalClass","data","lifetimes","ready","that","setData","selected","gs","setTimeout","scrollid","color","selectedColor","list","cloud","getTabBar","then","su","res","methods","goUrl","e","length","currentTarget","dataset","index","type","wx","navigateTo","url","path","reLaunch"],"mappings":";;AAAA;AACA;AACA;AACA,IAAMA,MAAMC,QAAZ;AACAC,UAAU;AACRC,WAAS;AACPC,oBAAgB;AADT,GADD;AAIRC,QAAM,EAJE;AAKRC,aAAW;AACTC,SADS,mBACA;AACP,UAAIC,OAAO,IAAX;AACA,WAAKC,OAAL,CAAa;AACXC,kBAAUV,IAAIW,EAAJ,CAAO,UAAP,KAAsB;AADrB,OAAb;AAGAC,iBAAW,YAAY;AACrB,YAAIZ,IAAIW,EAAJ,CAAO,UAAP,KAAsB,CAA1B,EAA6B;AAC3BH,eAAKC,OAAL,CAAa;AACXI,sBAAU;AADC,WAAb;AAGD,SAJD,MAIO;AACLL,eAAKC,OAAL,CAAa;AACXI,sBAAUb,IAAIW,EAAJ,CAAO,UAAP;AADC,WAAb;AAGD;AACF,OAVD,EAUG,EAVH;AAWA,UAAIX,IAAIW,EAAJ,CAAO,SAAP,CAAJ,EAAuB;AACrB,eAAO,KAAKF,OAAL,CAAa;AAClBK,iBAAOd,IAAIW,EAAJ,CAAO,SAAP,EAAkBG,KADP;AAElBC,yBAAef,IAAIW,EAAJ,CAAO,SAAP,EAAkBI,aAFf;AAGlBC,gBAAMhB,IAAIW,EAAJ,CAAO,SAAP,EAAkBK;AAHN,SAAb,CAAP;AAKD;AACDhB,UAAIiB,KAAJ,GAAYC,SAAZ,GAAwBC,IAAxB,CAA6B,eAAO;AAClCnB,YAAIoB,EAAJ,CAAO,SAAP,EAAkBC,GAAlB;AACAb,aAAKC,OAAL,CAAa;AACXK,iBAAOO,IAAIP,KADA;AAEXC,yBAAeM,IAAIN,aAFR;AAGXC,gBAAMK,IAAIL;AAHC,SAAb;AAKD,OAPD;AAQD;AAhCQ,GALH;AAuCRM,WAAS;AACPC,SADO,iBACDC,CADC,EACE;AACP,UAAI,KAAKnB,IAAL,CAAUW,IAAV,CAAeS,MAAf,GAAwB,CAA5B,EAA+B;AAC7BzB,YAAIoB,EAAJ,CAAO,UAAP,YAA2BI,EAAEE,aAAF,CAAgBC,OAAhB,CAAwBC,KAAnD;AACD;AACD,UAAIJ,EAAEE,aAAF,CAAgBC,OAAhB,CAAwBC,KAAxB,IAAiC,KAAKvB,IAAL,CAAUK,QAA/C,EAAyD;AACzD,UAAIc,EAAEE,aAAF,CAAgBC,OAAhB,CAAwBE,IAAxB,KAAiC,UAArC,EAAiD;AAC/CC,WAAGC,UAAH,CAAc;AACZC,eAAKR,EAAEE,aAAF,CAAgBC,OAAhB,CAAwBM;AADjB,SAAd;AAGD,OAJD,MAIO;AACLjC,YAAIoB,EAAJ,CAAO,UAAP,EAAmBI,EAAEE,aAAF,CAAgBC,OAAhB,CAAwBC,KAA3C;AACAE,WAAGI,QAAH,CAAY;AACVF,eAAKR,EAAEE,aAAF,CAAgBC,OAAhB,CAAwBM;AADnB,SAAZ;AAGD;AACF;AAhBM;AAvCD,CAAV","file":"my-tabbar.js","sourcesContent":["// components/component-tag-name.js\r\n// const app = getApp()\r\n/*eslint-disable*/\r\nconst app = getApp()\r\nComponent({\r\n  options: {\r\n    addGlobalClass: true\r\n  },\r\n  data: {},\r\n  lifetimes: {\r\n    ready () {\r\n      let that = this\r\n      this.setData({\r\n        selected: app.gs('selected') || 0\r\n      })\r\n      setTimeout(function () {\r\n        if (app.gs('selected') <= 1) {\r\n          that.setData({\r\n            scrollid: 'index0'\r\n          })\r\n        } else {\r\n          that.setData({\r\n            scrollid: app.gs('scrollid')\r\n          })\r\n        }\r\n      }, 10)\r\n      if (app.gs('tabData')) {\r\n        return this.setData({\r\n          color: app.gs('tabData').color,\r\n          selectedColor: app.gs('tabData').selectedColor,\r\n          list: app.gs('tabData').list\r\n        })\r\n      }\r\n      app.cloud().getTabBar().then(res => {\r\n        app.su('tabData', res)\r\n        that.setData({\r\n          color: res.color,\r\n          selectedColor: res.selectedColor,\r\n          list: res.list\r\n        })\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    goUrl(e) {\r\n      if (this.data.list.length > 4) {\r\n        app.su('scrollid', `index${e.currentTarget.dataset.index}`)\r\n      }\r\n      if (e.currentTarget.dataset.index == this.data.selected) return\r\n      if (e.currentTarget.dataset.type === 'navigate') {\r\n        wx.navigateTo({\r\n          url: e.currentTarget.dataset.path\r\n        })\r\n      } else {\r\n        app.su('selected', e.currentTarget.dataset.index)\r\n        wx.reLaunch({\r\n          url: e.currentTarget.dataset.path\r\n        })\r\n      }\r\n    }\r\n  }\r\n})\r\n"]}