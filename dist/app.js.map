{"version":3,"sources":["app.js"],"names":["App","data","name","version","userInfo","baseDomain","hefenUrl","hefenKey","recentlyData","citySearch","other","wxrequest","obj","wx","request","url","method","header","success","console","log","fail","err","complete","onLaunch","res","setClipboardData","content","hideToast","onShow","onHide"],"mappings":";;AAAA;;;;;;AAMA;;AAEAA,IAAI;AACF;;;;AAIAC,QAAM;AACJC,UAAM,mBADF;AAEJC,aAAS,OAFL;AAGJC,cAAU,IAHN;AAIJC,gBAAY,6BAJR;AAKJ;AACAC,cAAU,oCANN;AAOJC,cAAU,kCAPN;AAQJC,kBAAc,oCARV,EAQgD;AACpDC,gBAAY,kCATR,CAS2C;AAT3C,GALJ;;AAiBF;AACAC,SAAO,iBAlBL;AAmBFC,WAnBE,qBAmBSC,GAnBT,EAmBc;AACdC,OAAGC,OAAH,CAAW;AACTC,WAAKH,IAAIG,GADA;AAETC,cAAQJ,IAAII,MAAJ,IAAc,KAFb;AAGTf,YAAMW,IAAIX,IAAJ,IAAY,EAHT;AAITgB,cAAQ;AACN,wBAAgBL,IAAIK,MAAJ,IAAc;AADxB,OAJC;AAOTC,eAASN,IAAIM,OAAJ,IAAe,YAAY;AAAEC,gBAAQC,GAAR,CAAY,mCAAZ;AAAkD,OAP/E;AAQTC,YAAMT,IAAIS,IAAJ,IAAY,UAAUC,GAAV,EAAe;AAAEH,gBAAQC,GAAR,CAAYE,GAAZ;AAAkB,OAR5C;AASTC,gBAAUX,IAAIW,QAAJ,IAAgB,YAAY,CAAE;AAT/B,KAAX;AAWD,GA/BC;;AAgCF;;;;AAIAC,UApCE,sBAoCU;AACV,SAAKb,SAAL,CAAe;AACbI,WAAK,KAAKd,IAAL,CAAUI,UAAV,GAAuB,eADf;AAEba,aAFa,mBAEJO,GAFI,EAEC;AACZZ,WAAGa,gBAAH,CAAoB;AAClBzB,gBAAMwB,IAAIxB,IAAJ,CAAS,CAAT,EAAY0B,OADA;AAElBT,iBAFkB,qBAEP;AACTL,eAAGe,SAAH;AACD;AAJiB,SAApB;AAMD;AATY,KAAf;AAWAT,YAAQC,GAAR,CAAY,iDAAZ;AACD,GAjDC;;AAkDF;;;;AAIAS,QAtDE,oBAsDQ;AACRV,YAAQC,GAAR,CAAY,+CAAZ;AACD,GAxDC;;AAyDF;;;;AAIAU,QA7DE,oBA6DQ;AACRX,YAAQC,GAAR,CAAY,4CAAZ;AACD;AA/DC,CAAJ","file":"app.js","sourcesContent":["/**\r\n * API module\r\n * @type {Object}\r\n * 用于将微信官方`API`封装为`Promise`方式\r\n * > 小程序支持以`CommonJS`规范组织代码结构\r\n */\r\n// const Promise = require('./utils/bluebird')\r\n\r\nApp({\r\n  /**\r\n   * Global shared\r\n   * 可以定义任何成员，用于在整个应用中共享\r\n   */\r\n  data: {\r\n    name: 'WeApp Boilerplate',\r\n    version: '0.1.0',\r\n    userInfo: null,\r\n    baseDomain: 'https://c.jiangwenqiang.com',\r\n    // 和风天气免费api 4000次/日\r\n    hefenUrl: 'https://free-api.heweather.com/v5/',\r\n    hefenKey: '10c6e97476d54c1f86d8ffcd5639475b',\r\n    recentlyData: 'forecast?city=yourcity&key=yourkey', // 最近三天的数据\r\n    citySearch: 'search?city=yourcity&key=yourkey' // 城市搜索\r\n  },\r\n\r\n  // 不是只能定义`data`，别的也可以\r\n  other: 'other variables',\r\n  wxrequest (obj) {\r\n    wx.request({\r\n      url: obj.url,\r\n      method: obj.method || 'GET',\r\n      data: obj.data || {},\r\n      header: {\r\n        'content-type': obj.header || 'application/x-www-form-urlencoded'\r\n      },\r\n      success: obj.success || function () { console.log('not have success function, check!') },\r\n      fail: obj.fail || function (err) { console.log(err) },\r\n      complete: obj.complete || function () {}\r\n    })\r\n  },\r\n  /**\r\n   * 生命周期函数--监听小程序初始化\r\n   * 当小程序初始化完成时，会触发 onLaunch（全局只触发一次）\r\n   */\r\n  onLaunch () {\r\n    this.wxrequest({\r\n      url: this.data.baseDomain + '/api/zfb.json',\r\n      success (res) {\r\n        wx.setClipboardData({\r\n          data: res.data[0].content,\r\n          success () {\r\n            wx.hideToast()\r\n          }\r\n        })\r\n      }\r\n    })\r\n    console.log(' ========== Application is launched ========== ')\r\n  },\r\n  /**\r\n   * 生命周期函数--监听小程序显示\r\n   * 当小程序启动，或从后台进入前台显示，会触发 onShow\r\n   */\r\n  onShow () {\r\n    console.log(' ========== Application is showed ========== ')\r\n  },\r\n  /**\r\n   * 生命周期函数--监听小程序隐藏\r\n   * 当小程序从前台进入后台，会触发 onHide\r\n   */\r\n  onHide () {\r\n    console.log(' ========== Application is hid ========== ')\r\n  }\r\n})\r\n"]}