{"version":3,"sources":["danmuPage/pages/danmu/danmu.js"],"names":["Page","data","wrap_bgc","content","t","size","r","g","b","colorArr","inputext","contentFontSize","textIndex","allSize","allR","allG","allB","time","longth","contentColor","showChange","setData","show","inputfinish","e","detail","value","length","tArr","split","en","v","test","push","chooseText","currentTarget","dataset","index","fastColor","sliderchange","type","onLoad","onReady","onShow","onHide","onUnload","onPullDownRefresh","onShareAppMessage","title","path"],"mappings":"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","file":"danmu.js","sourcesContent":["// 获取全局应用程序实例对象\n// const app = getApp()\n// let windHeight = wx.getSystemInfoSync().windowHeight\n// let timer = null\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    wrap_bgc: '000000',\n    content: [\n      {\n        t: '给',\n        size: 250,\n        r: 0,\n        g: 255,\n        b: 255\n      },\n      {\n        t: '强',\n        size: 250,\n        r: 255,\n        g: 0,\n        b: 255\n      },\n      {\n        t: '哥',\n        size: 250,\n        r: 255,\n        g: 255,\n        b: 0\n      },\n      {\n        t: '哥',\n        size: 250,\n        r: 255,\n        g: 144,\n        b: 255\n      },\n      {\n        t: '打',\n        size: 250,\n        r: 144,\n        g: 144,\n        b: 144\n      },\n      {\n        t: 'Call',\n        size: 250,\n        r: 20,\n        g: 255,\n        b: 144\n      }\n    ],\n    colorArr: [\n      {\n        r: 255,\n        g: 255,\n        b: 255\n      },\n      {\n        r: 10,\n        g: 255,\n        b: 255\n      },\n      {\n        r: 255,\n        g: 10,\n        b: 255\n      },\n      {\n        r: 255,\n        g: 255,\n        b: 10\n      },\n      {\n        r: 10,\n        g: 255,\n        b: 10\n      },\n      {\n        r: 255,\n        g: 10,\n        b: 10\n      },\n      {\n        r: 255,\n        g: 222,\n        b: 173\n      },\n      {\n        r: 148,\n        g: 0,\n        b: 211\n      }\n    ],\n    inputext: null,\n    contentFontSize: 100,\n    textIndex: -1,\n    allSize: 250,\n    allR: 255,\n    allG: 255,\n    allB: 255,\n    time: 8,\n    longth: 0,\n    contentColor: 'FFF000'\n  },\n  showChange () {\n    this.setData({\n      show: !this.data.show\n    })\n  },\n  inputfinish (e) {\n    let t = e.detail.value\n    if (t.length <= 0) {\n      // wx.showToast({\n      //   title: '请输入内容',\n      //   icon: 'loading'\n      // })\n      return\n    }\n    let tArr = t.split('')\n    let content = []\n    let en = ''\n    for (let v of tArr) {\n      if (/[a-zA-Z]/.test(v)) {\n        en += v\n        if (!content.length) {\n          content[0] = {\n            size: 250,\n            r: 255,\n            g: 255,\n            b: 255,\n            t: en\n          }\n        } else {\n          content[content.length - 1] = {\n            size: 250,\n            r: 255,\n            g: 255,\n            b: 255,\n            t: en\n          }\n        }\n        continue\n      } else {\n        en = ''\n      }\n      content.push({\n        size: 250,\n        r: 255,\n        g: 255,\n        b: 255,\n        t: v\n      })\n    }\n    this.setData({\n      content,\n      inputext: t\n    })\n  },\n  chooseText (e) {\n    if (e.currentTarget.dataset.index * 1 === this.data.textIndex * 1) {\n      this.setData({\n        textIndex: -1\n      })\n    } else {\n      this.setData({\n        textIndex: e.currentTarget.dataset.index\n      })\n    }\n  },\n  fastColor (e) {\n    let {r, g, b} = e.currentTarget.dataset\n    if (this.data.textIndex === -1) {\n      for (let v of this.data.content) {\n        v.r = r\n        v.g = g\n        v.b = b\n      }\n      this.setData({\n        allR: r,\n        allG: g,\n        allB: b,\n        content: this.data.content\n      })\n      return\n    } else {\n      this.data.content[this.data.textIndex].r = r\n      this.data.content[this.data.textIndex].g = g\n      this.data.content[this.data.textIndex].b = b\n    }\n    this.setData({\n      content: this.data.content\n    })\n  },\n  sliderchange (e) {\n    if (e.currentTarget.dataset.type === 'size') {\n      if (this.data.textIndex === -1) {\n        for (let v of this.data.content) {\n          v.size = e.detail.value\n        }\n        this.setData({\n          content: this.data.content,\n          allSize: e.detail.value\n        })\n        return\n      }\n      this.data.content[this.data.textIndex].size = e.detail.value\n    } else if (e.currentTarget.dataset.type === 'r') {\n      if (this.data.textIndex === -1) {\n        for (let v of this.data.content) {\n          v.r = e.detail.value\n        }\n        this.setData({\n          content: this.data.content,\n          allR: e.detail.value\n        })\n        return\n      }\n      this.data.content[this.data.textIndex].r = e.detail.value\n    } else if (e.currentTarget.dataset.type === 'g') {\n      if (this.data.textIndex === -1) {\n        for (let v of this.data.content) {\n          v.g = e.detail.value\n        }\n        this.setData({\n          content: this.data.content,\n          allG: e.detail.value\n        })\n        return\n      }\n      this.data.content[this.data.textIndex].g = e.detail.value\n    } else if (e.currentTarget.dataset.type === 'b') {\n      if (this.data.textIndex === -1) {\n        for (let v of this.data.content) {\n          v.b = e.detail.value\n        }\n        this.setData({\n          content: this.data.content,\n          allB: e.detail.value\n        })\n        return\n      }\n      this.data.content[this.data.textIndex].b = e.detail.value\n    } else if (e.currentTarget.dataset.type === 'time') {\n      this.setData({\n        time: e.detail.value\n      })\n      return\n    }\n    this.setData({\n      content: this.data.content\n    })\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad () {\n    // TODO: onLoad\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // this.checkLongth()\n    // setTimeout(() => {\n    //   this.textMove(5)\n    // },100)\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  },\n  onShareAppMessage: function () {\n    return {\n      title: '手持弹幕神器，为你打CALL',\n      path: '/pages/danmu/danmu'\n    }\n  }\n})\n"]}