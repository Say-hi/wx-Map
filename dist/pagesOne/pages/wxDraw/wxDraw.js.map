{"version":3,"sources":["pagesOne/pages/wxDraw/wxDraw.js"],"names":["app","getApp","wxDraw","require","Shape","Page","data","wxCanvas","bindtouchstart","e","touchstartDetect","bindtouchmove","touchmoveDetect","bindtouchend","touchendDetect","bindtap","tapDetect","bindlongpress","longpressDetect","outImg","wx","canvasToTempFilePath","x","y","width","height","destWidth","destHeight","canvasId","success","res","saveImageToPhotosAlbum","filePath","tempFilePath","onLoad","context","createCanvasContext","rect","w","h","fillStyle","rotate","rect2","add","onReady","onShow","onHide","onUnload","onShareAppMessage","onPullDownRefresh"],"mappings":";;AAAA;AACA;AACA,IAAMA,MAAMC,QAAZ;AACA,IAAMC,SAASC,QAAQ,uBAAR,EAAiCD,MAAhD;AACA,IAAME,QAAQD,QAAQ,uBAAR,EAAiCC,KAA/C;AACA;AACA;AACA;AACA;AACAC,KAAK;AACH;;;AAGAC,QAAM;AACJC,cAAU;AADN,GAJH;AAOHC,gBAPG,0BAOaC,CAPb,EAOgB;AACjB,SAAKF,QAAL,CAAcG,gBAAd,CAA+BD,CAA/B;AACD,GATE;AAUHE,eAVG,yBAUYF,CAVZ,EAUe;AAChB,SAAKF,QAAL,CAAcK,eAAd,CAA8BH,CAA9B;AACD,GAZE;AAaHI,cAbG,wBAaWJ,CAbX,EAac;AACf,SAAKF,QAAL,CAAcO,cAAd,CAA6BL,CAA7B;AACD,GAfE;AAgBHM,SAhBG,mBAgBMN,CAhBN,EAgBS;AACV,SAAKF,QAAL,CAAcS,SAAd,CAAwBP,CAAxB;AACD,GAlBE;AAmBHQ,eAnBG,yBAmBYR,CAnBZ,EAmBe;AAChB,SAAKF,QAAL,CAAcW,eAAd,CAA8BT,CAA9B;AACD,GArBE;AAsBHU,QAtBG,oBAsBO;AACRC,OAAGC,oBAAH,CAAwB;AACtBC,SAAG,CADmB;AAEtBC,SAAG,CAFmB;AAGtBC,aAAO,GAHe;AAItBC,cAAQ,GAJc;AAKtBC,iBAAW,GALW;AAMtBC,kBAAY,GANU;AAOtBC,gBAAU,OAPY;AAQtBC,aARsB,mBAQdC,GARc,EAQT;AACX;AACAV,WAAGW,sBAAH,CAA0B;AACxBC,oBAAUF,IAAIG;AADU,SAA1B;AAGD;AAbqB,KAAxB;AAeD,GAtCE;;AAuCH;;;AAGAC,QA1CG,oBA0CO;AACR,QAAIC,UAAUf,GAAGgB,mBAAH,CAAuB,OAAvB,CAAd;AACA,SAAK7B,QAAL,GAAgB,IAAIL,MAAJ,CAAWiC,OAAX,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,GAA1B,EAA+B,GAA/B,CAAhB;AACA,QAAIE,OAAO,IAAIjC,KAAJ,CAAU,MAAV,EAAkB,EAACkB,GAAE,EAAH,EAAOC,GAAE,EAAT,EAAYe,GAAE,EAAd,EAAkBC,GAAE,EAApB,EAAwBC,WAAW,SAAnC,EAA8CC,QAAQ,GAAtD,EAAlB,EAA8E,MAA9E,EAAsF,IAAtF,CAAX;AACA,QAAIC,QAAQ,IAAItC,KAAJ,CAAU,MAAV,EAAkB,EAACkB,GAAE,EAAH,EAAOC,GAAE,EAAT,EAAYe,GAAE,EAAd,EAAkBC,GAAE,EAApB,EAAwBC,WAAW,SAAnC,EAA8CC,QAAQ,GAAtD,EAAlB,EAA8E,MAA9E,EAAsF,IAAtF,CAAZ;AACA,SAAKlC,QAAL,CAAcoC,GAAd,CAAkBN,IAAlB;AACA,SAAK9B,QAAL,CAAcoC,GAAd,CAAkBD,KAAlB;AACD,GAjDE;;;AAmDH;;;AAGAE,SAtDG,qBAsDQ;AACT;AACD,GAxDE;;;AA0DH;;;AAGAC,QA7DG,oBA6DO;AACR;AACD,GA/DE;;;AAiEH;;;AAGAC,QApEG,oBAoEO;AACR;AACD,GAtEE;;;AAwEH;;;AAGAC,UA3EG,sBA2ES;AACV;AACD,GA7EE;AA8EHC,mBA9EG,+BA8EkB,CACpB,CA/EE;;AAgFH;;;AAGAC,mBAnFG,+BAmFkB;AACnB;AACD;AArFE,CAAL","file":"wxDraw.js","sourcesContent":["// 获取全局应用程序实例对象\n/*eslint-disable*/\nconst app = getApp()\nconst wxDraw = require('../../../utils/wxdraw').wxDraw\nconst Shape = require('../../../utils/wxdraw').Shape\n// const soundUrl = 'https://sound-static.cqxcx.net'\n// const xapi = 'https://xapi.cqxcx.net'\n// const ad = 'https://ad.cqxcx.net'\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    wxCanvas: null\n  },\n  bindtouchstart (e) {\n    this.wxCanvas.touchstartDetect(e)\n  },\n  bindtouchmove (e) {\n    this.wxCanvas.touchmoveDetect(e)\n  },\n  bindtouchend (e) {\n    this.wxCanvas.touchendDetect(e)\n  },\n  bindtap (e) {\n    this.wxCanvas.tapDetect(e)\n  },\n  bindlongpress (e) {\n    this.wxCanvas.longpressDetect(e)\n  },\n  outImg () {\n    wx.canvasToTempFilePath({\n      x: 0,\n      y: 0,\n      width: 400,\n      height: 500,\n      destWidth: 400,\n      destHeight: 500,\n      canvasId: 'first',\n      success(res) {\n        // console.log(res.tempFilePath)\n        wx.saveImageToPhotosAlbum({\n          filePath: res.tempFilePath\n        })\n      }\n    })\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad () {\n    let context = wx.createCanvasContext('first')\n    this.wxCanvas = new wxDraw(context, 0, 0, 400, 500)\n    let rect = new Shape('rect', {x:60, y:40,w:40, h:80, fillStyle: '#2fbbac', rotate: 190}, 'fill', true)\n    let rect2 = new Shape('rect', {x:60, y:40,w:40, h:80, fillStyle: '#333333', rotate: 190}, 'fill', true)\n    this.wxCanvas.add(rect)\n    this.wxCanvas.add(rect2)\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n  onShareAppMessage () {\n  },\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  }\n})\n"]}