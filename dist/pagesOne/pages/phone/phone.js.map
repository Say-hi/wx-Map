{"version":3,"sources":["pagesOne/pages/phone/phone.js"],"names":["app","getApp","Page","data","title","randomName","randomRemark","soundUrl","inputValue","e","currentTarget","dataset","type","setData","detail","value","jumpCall","wx","navigateTo","url","backIndex","reLaunch","getPhoneData","that","wxrequest","baseDomain","success","res","index","Math","floor","random","length","audioArr","audioIndex","caller_name","remark","bindPickerChange","setRandom","onLoad","onReady","onShow","onHide","onUnload","onShareAppMessage","path","imageUrl","onPullDownRefresh"],"mappings":"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","file":"phone.js","sourcesContent":["// 获取全局应用程序实例对象\nconst app = getApp()\n// const soundUrl = 'https://sound-static.cqxcx.net'\n// const xapi = 'https://xapi.cqxcx.net'\n// const ad = 'https://ad.cqxcx.net'\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    title: 'phone',\n    randomName: '江文强',\n    randomRemark: '你的小可爱',\n    soundUrl: 'https://c.jiangwenqiang.com/music/glgl.mp3'\n  },\n  inputValue (e) {\n    if (e.currentTarget.dataset.type === 'remark') {\n      this.setData({\n        randomRemark: e.detail.value\n      })\n    } else {\n      this.setData({\n        randomName: e.detail.value\n      })\n    }\n  },\n  jumpCall () {\n    wx.navigateTo({\n      url: `../call/call?randomName=${this.data.randomName}&randomRemark=${this.data.randomRemark}&soundUrl=${this.data.soundUrl}&type=needback`\n    })\n  },\n  backIndex () {\n    wx.reLaunch({\n      url: '/pages/index/index'\n    })\n  },\n  getPhoneData () {\n    let that = this\n    app.wxrequest({\n      url: `${app.data.baseDomain}/api/phone.json`,\n      success (res) {\n        let index = Math.floor(Math.random() * res.data.data.length)\n        that.setData({\n          audioArr: res.data.data,\n          audioIndex: index,\n          randomName: res.data.data[index].caller_name,\n          randomRemark: res.data.data[index].remark,\n          soundUrl: res.data.data[index].url\n        })\n      }\n    })\n  },\n  bindPickerChange (e) {\n    this.setData({\n      audioIndex: e.detail.value,\n      randomName: this.data.audioArr[e.detail.value].caller_name,\n      randomRemark: this.data.audioArr[e.detail.value].remark,\n      soundUrl: this.data.audioArr[e.detail.value].url\n    })\n  },\n  setRandom () {\n    let index = Math.floor(Math.random() * this.data.audioArr.length)\n    this.setData({\n      audioIndex: index,\n      randomName: this.data.audioArr[index].caller_name,\n      randomRemark: this.data.audioArr[index].remark,\n      soundUrl: this.data.audioArr[index].url\n    })\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad () {\n    this.getPhoneData()\n    // TODO: onLoad\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n  onShareAppMessage () {\n    return {\n      title: '您有一个好友来电请接听',\n      path: `/pagesOne/pages/call/call?randomName=${this.data.randomName}&randomRemark=${this.data.randomRemark}&soundUrl=${this.data.soundUrl}`,\n      imageUrl: '/images/phone.png'\n    }\n  },\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  }\n})\n"]}