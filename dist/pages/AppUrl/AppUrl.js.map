{"version":3,"sources":["pages/AppUrl/AppUrl.js"],"names":["Page","data","title","imgbg","text","btnType","openMap","that","wx","getStorageSync","setData","showModal","content","showCancel","latitude","longitude","openLocation","scale","name","address","openMapChooseSite","chooseLocation","success","res","setStorageSync","onLoad","onReady","onShow","onHide","onUnload","onPullDownRefresh"],"mappings":";;AAAA;AACA;AACA;AACA;AACAA,KAAK;AACH;;;AAGAC,QAAM;AACJC,WAAO,QADH;AAEJC,WAAO,kDAFH;AAGJC,UAAM,QAHF;AAIJC,aAAS;AAJL,GAJH;AAUHC,SAVG,qBAUQ;AACT,QAAIC,OAAO,IAAX;AACA,QAAI,CAACC,GAAGC,cAAH,CAAkB,SAAlB,CAAL,EAAmC;AACjCF,WAAKG,OAAL,CAAa;AACXL,iBAAS;AADE,OAAb;AAGA,aAAOG,GAAGG,SAAH,CAAa;AAClBT,eAAO,QADW;AAElBU,iBAAS,gBAFS;AAGlBC,oBAAY;AAHM,OAAb,CAAP;AAKD;AACD,QAAIC,WAAWN,GAAGC,cAAH,CAAkB,UAAlB,CAAf;AACA,QAAIM,YAAYP,GAAGC,cAAH,CAAkB,WAAlB,CAAhB;AACAD,OAAGQ,YAAH,CAAgB;AACdF,gBAAUA,QADI;AAEdC,iBAAWA,SAFG;AAGdE,aAAO,EAHO;AAIdC,YAAM,MAJQ;AAKdC,eAASX,GAAGC,cAAH,CAAkB,SAAlB;AALK,KAAhB;AAOD,GA/BE;AAgCHW,mBAhCG,+BAgCkB;AACnB,QAAIb,OAAO,IAAX;AACAC,OAAGa,cAAH,CAAkB;AAChBC,aADgB,mBACPC,GADO,EACF;AACZ;AACAf,WAAGgB,cAAH,CAAkB,UAAlB,EAA8BD,IAAIT,QAAlC;AACAN,WAAGgB,cAAH,CAAkB,WAAlB,EAA+BD,IAAIR,SAAnC;AACAP,WAAGgB,cAAH,CAAkB,SAAlB,EAA6BD,IAAIJ,OAAjC;AACAZ,aAAKG,OAAL,CAAa;AACXL,mBAAS,SADE;AAEXD,gBAAM;AAFK,SAAb;AAID;AAVe,KAAlB;AAYD,GA9CE;;AA+CH;;;AAGAqB,QAlDG,oBAkDO;AACR;AACD,GApDE;;;AAsDH;;;AAGAC,SAzDG,qBAyDQ;AACT;AACD,GA3DE;;;AA6DH;;;AAGAC,QAhEG,oBAgEO;AACR;AACD,GAlEE;;;AAoEH;;;AAGAC,QAvEG,oBAuEO;AACR;AACD,GAzEE;;;AA2EH;;;AAGAC,UA9EG,sBA8ES;AACV;AACD,GAhFE;;;AAkFH;;;AAGAC,mBArFG,+BAqFkB;AACnB;AACD;AAvFE,CAAL","file":"AppUrl.js","sourcesContent":["// 获取全局应用程序实例对象\r\n// const app = getApp()\r\n// const bmap = require('../../utils/bmap-wx')\r\n// 创建页面实例对象\r\nPage({\r\n  /**\r\n   * 页面的初始数据\r\n   */\r\n  data: {\r\n    title: 'AppUrl',\r\n    imgbg: 'http://oqnqsweek.bkt.clouddn.com/image/mapbg.jpg',\r\n    text: '设置目标地点',\r\n    btnType: 'default'\r\n  },\r\n  openMap () {\r\n    let that = this\r\n    if (!wx.getStorageSync('address')) {\r\n      that.setData({\r\n        btnType: 'warn'\r\n      })\r\n      return wx.showModal({\r\n        title: '未选取目的地',\r\n        content: '小主，您还没有选取目标地点哦',\r\n        showCancel: false\r\n      })\r\n    }\r\n    var latitude = wx.getStorageSync('latitude')\r\n    var longitude = wx.getStorageSync('longitude')\r\n    wx.openLocation({\r\n      latitude: latitude,\r\n      longitude: longitude,\r\n      scale: 16,\r\n      name: '目标地点',\r\n      address: wx.getStorageSync('address')\r\n    })\r\n  },\r\n  openMapChooseSite () {\r\n    let that = this\r\n    wx.chooseLocation({\r\n      success (res) {\r\n        // console.log(res)\r\n        wx.setStorageSync('latitude', res.latitude)\r\n        wx.setStorageSync('longitude', res.longitude)\r\n        wx.setStorageSync('address', res.address)\r\n        that.setData({\r\n          btnType: 'primary',\r\n          text: '已设置目标地点'\r\n        })\r\n      }\r\n    })\r\n  },\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad () {\r\n    // TODO: onLoad\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady () {\r\n    // TODO: onReady\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow () {\r\n    // TODO: onShow\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide () {\r\n    // TODO: onHide\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload () {\r\n    // TODO: onUnload\r\n  },\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh () {\r\n    // TODO: onPullDownRefresh\r\n  }\r\n})\r\n"]}