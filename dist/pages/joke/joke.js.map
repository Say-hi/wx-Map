{"version":3,"sources":["pages/joke/joke.js"],"names":["app","getApp","Page","data","title","choose","controls","objectFit","getVideoUrl","that","obj","url","success","res","i","name","replace","setData","secondUrl","ojbs","videoArr","push","wxrequest","onLoad","onReady","onShow","onHide","onUnload","onPullDownRefresh","length","autoplays","videoContext","wx","createVideoContext","setTimeout","play","stopPullDownRefresh","onShareAppMessage","path"],"mappings":"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","file":"joke.js","sourcesContent":["// 获取全局应用程序实例对象\nconst app = getApp()\n\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    title: 'joke',\n    choose: 0,\n    controls: true,\n    objectFit: 'fill'\n    // poster: 'https://www.jiangwenqiang.com/api/my.jpg'\n  },\n  getVideoUrl () {\n    let that = this\n    let obj = {\n      url: 'https://lf.snssdk.com/neihan/service/tabs/',\n      success (res) {\n        for (let i of res.data.data) {\n          if (i.name === '视频') {\n            let url = i.url.replace('http', 'https')\n            that.setData({\n              secondUrl: url\n            })\n            break\n          }\n        }\n        let ojbs = {\n          url: that.data.secondUrl,\n          success (res) {\n            let videoArr = []\n            for (let i of res.data.data.data) {\n              // console.log(i['group']['480p_video']['url_list'][0])\n              videoArr.push(i['group']['480p_video']['url_list'][0]['url'].replace('http://', 'https://'))\n            }\n            // let videoArr = res.data.data.data\n            that.setData({\n              videoArr: videoArr\n            })\n          }\n        }\n        app.wxrequest(ojbs)\n      }\n    }\n    app.wxrequest(obj)\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad () {\n    // TODO: onLoad\n    this.getVideoUrl()\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n    let that = this\n    let choose = this.data.choose\n    if (choose === this.data.videoArr.length) {\n      let ojbs = {\n        url: that.data.secondUrl,\n        success (res) {\n          let videoArr = []\n          for (let i of res.data.data.data) {\n            // console.log(i['group']['480p_video']['url_list'][0])\n            videoArr.push(i['group']['480p_video']['url_list'][0]['url'].replace('http://', 'https://'))\n          }\n          // let videoArr = res.data.data.data\n          that.setData({\n            choose: 0,\n            videoArr: videoArr\n          })\n        }\n      }\n      app.wxrequest(ojbs)\n    } else {\n      ++choose\n      this.setData({\n        choose: choose\n      })\n    }\n    this.setData({\n      autoplays: true\n    })\n    this.videoContext = wx.createVideoContext('videos')\n    setTimeout(function () {\n      that.videoContext.play()\n      wx.stopPullDownRefresh()\n    }, 200)\n  },\n  onShareAppMessage: function () {\n    return {\n      title: '向您推荐一个有趣的小程序，快来围观吧',\n      path: '/pages/index/index'\n    }\n  }\n})\n"]}