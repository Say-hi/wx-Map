{"version":3,"sources":["photoPage/pages/photo/photo.js"],"names":["app","getApp","md5","require","upng","manager","wx","getFileSystemManager","base64","app_key","app_id","Page","data","showImg","showImgs","lists","title","style","choose","t","type","ico","fn","chooseIndex","showOriginal","setData","original","peopleBeauty","base64Img","model","that","params","image","nonce_str","Math","random","toString","substr","cosmetic","currentTarget","dataset","time_stamp","parseInt","Date","getTime","genRequestSign","wxrequest","url","method","header","success","res","hideLoading","ret","showToast","msg","BackshowImg","fail","bigHead","sticker","faceChange","decoration","worldFilter","session_id","filter","peopleFilter","chooseModel","e","index","chooseImage","count","sizeType","console","log","getImageInfo","src","tempFilePaths","res2","tempFiles","size","userImg","readFile","filePath","encoding","doUpload","cloud","login","then","uploadFile","cloudPath","openid","match","getBottomList","baseDomain","bottomList","getApi","peopleAge","sortObject","paramStr","keys","Object","idx","key","encodeURIComponent","hexMD5","toUpperCase","obj","sort","newObj","i","length","getbase64","showLoading","mask","setCanvas","wdith","height","ctx","createCanvasContext","drawImage","draw","canvasGetImageData","canvasId","x","y","width","pngData","encode","buffer","err","arrayBufferToBase64","reverseImgData","w","h","con","j","savePhoto","createSelectorQuery","select","fields","shareImg","exec","path","env","USER_DATA_PATH","writeFileSync","replace","saveImageToPhotosAlbum","onLoad","loading","getSystemInfo","pixelRatio","windowWidth","windowHeight","getPhotoKey","k","onReady","onShow","setTimeout","noneed","onShareAppMessage","onHide","onUnload","onPullDownRefresh"],"mappings":"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","file":"photo.js","sourcesContent":["/*eslint-disable*/\n// 获取全局应用程序实例对象\nconst app = getApp()\nconst md5 = require('../wxmd5')\nconst upng = require('../UPNG.js')\nconst manager = wx.getFileSystemManager()\nlet base64 = null\nlet app_key = null\nlet app_id = null\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n\n\n  data: {\n    showImg: 'https://7465-teach-1258324355.tcb.qcloud.la/image/photo2.png',\n    showImgs: 'https://7465-teach-1258324355.tcb.qcloud.la/image/photo2.png',\n    lists: [\n      {\n        title: '人物滤镜',\n        style: 'background-image: linear-gradient(135deg, #FAD7A1 0%, #E96D71 100%)',\n        choose: [\n          {\n            t: '黛紫',\n            type: 1,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/1.png'\n          },\n          {\n            t: '岩井',\n            type: 2,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/2.png'\n          },\n          {\n            t: '粉嫩',\n            type: 3,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/3.png'\n          },\n          {\n            t: '错觉',\n            type: 4,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/4.png'\n          },\n          {\n            t: '暖阳',\n            type: 5,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/5.png'\n          },\n          {\n            t: '浪漫',\n            type: 6,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/6.png'\n          },\n          {\n            t: '蔷薇',\n            type: 7,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/7.gif'\n          },\n          {\n            t: '睡莲',\n            type: 8,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/8.gif'\n          },\n          {\n            t: '糖果玫瑰',\n            type: 9,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/9.gif'\n          },\n          {\n            t: '新叶',\n            type: 10,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/10.gif'\n          },\n          {\n            t: '尤加利',\n            type: 11,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/11.gif'\n          },\n          {\n            t: '墨',\n            type: 12,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/12.png'\n          },\n          {\n            t: '墨',\n            type: 12,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/12.png'\n          },\n          {\n            t: '玫瑰初雪',\n            type: 13,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/13.png'\n          },\n          {\n            t: '樱桃布丁',\n            type: 14,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/14.png'\n          },\n          {\n            t: '白茶',\n            type: 15,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/15.png'\n          },\n          {\n            t: '甜薄荷',\n            type: 16,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/16.png'\n          },\n          {\n            t: '樱红',\n            type: 17,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/17.png'\n          },\n          {\n            t: '圣代',\n            type: 18,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/18.png'\n          },\n          {\n            t: '莫斯科',\n            type: 19,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/19.png'\n          },\n          {\n            t: '冲绳',\n            type: 20,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/20.png'\n          },\n          {\n            t: '粉碧',\n            type: 21,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/21.png'\n          },\n          {\n            t: '地中海',\n            type: 22,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/22.png'\n          },\n          {\n            t: '首尔',\n            type: 23,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/23.png'\n          },\n          {\n            t: '佛罗伦萨',\n            type: 24,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/24.png'\n          },\n          {\n            t: '札幌\t',\n            type: 25,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/25.png'\n          },\n          {\n            t: '栀子\t',\n            type: 26,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/26.png'\n          },\n          {\n            t: '东京\t',\n            type: 27,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/27.png'\n          },\n          {\n            t: '昭和\t',\n            type: 28,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/28.png'\n          },\n          {\n            t: '自然\t',\n            type: 29,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/29.gif'\n          },\n          {\n            t: '清逸\t',\n            type: 30,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/30.png'\n          },\n          {\n            t: '染\t',\n            type: 31,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/31.png'\n          },\n          {\n            t: '甜美\t',\n            type: 32,\n            ico: 'https://c.jiangwenqiang.com/api/peoplefilter/32.png'\n          }\n        ],\n        fn: 'peopleFilter'\n      },\n      {\n        title: '风景滤镜',\n        style: 'background-image: linear-gradient(135deg, #30E3CA 0%, #11999E 100%)',\n        choose: [\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/1-01.jpg',\n            type: 1\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/2-03.jpg',\n            type: 2\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/3-04.jpg',\n            type: 3\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/4-07.jpg',\n            type: 4\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/5-08.jpg',\n            type: 5\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/6-09.jpg',\n            type: 6\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/7-11.jpg',\n            type: 7\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/8-12.jpg',\n            type: 8\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/9-13.jpg',\n            type: 9\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/10-16.jpg',\n            type: 10\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/11-17.jpg',\n            type: 11\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/12-19.jpg',\n            type: 12\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/13-28.jpg',\n            type: 13\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/14-30.jpg',\n            type: 14\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/15-65.jpg',\n            type: 15\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/16-80.jpg',\n            type: 16\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/17-87.jpg',\n            type: 17\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/18-125.jpg',\n            type: 18\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/19-149.jpg',\n            type: 19\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/20-154.jpg',\n            type: 20\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/21-172.jpg',\n            type: 21\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/22-176.jpg',\n            type: 22\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/23-206.jpg',\n            type: 23\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/24-207.jpg',\n            type: 24\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/25-215.jpg',\n            type: 25\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/26-225.jpg',\n            type: 26\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/27-226.jpg',\n            type: 27\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/28-239.jpg',\n            type: 28\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/29-246.jpg',\n            type: 29\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/30-326.jpg',\n            type: 30\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/31-334.jpg',\n            type: 31\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/32-340.jpg',\n            type: 32\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/33-348.jpg',\n            type: 33\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/34-350.jpg',\n            type: 34\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/35-356.jpg',\n            type: 35\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/36-357.jpg',\n            type: 36\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/37-359.jpg',\n            type: 37\n          },\n          {\n            t: '',\n            ico: 'https://c.jiangwenqiang.com/api/worldfilter/38-391.jpg',\n            type: 38\n          },\n\n        ],\n        fn: 'worldFilter'\n      },\n      {\n        title: '人脸变妆',\n        style: 'background-image: linear-gradient(135deg, #CE9FFC 0%, #7367F0 100%)',\n        choose: [\n          {\n            t: '埃及妆',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/1.jpg',\n            type: 1\n          },\n          {\n            t: '巴西土著妆',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/2.jpg',\n            type: 2\n          },\n          {\n            t: '灰姑娘妆',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/3.jpg',\n            type: 3\n          },\n          {\n            t: '恶魔妆',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/4.jpg',\n            type: 4\n          },\n          {\n            t: '武媚娘妆\t',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/5.jpg',\n            type: 5\n          },\n          {\n            t: '星光薰衣草',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/6.png',\n            type: 6\n          },\n          {\n            t: '花千骨',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/7.jpg',\n            type: 7\n          },\n          {\n            t: '僵尸妆',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/8.jpg',\n            type: 8\n          },\n          {\n            t: '爱国妆',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/9.png',\n            type: 9\n          },\n          {\n            t: '小胡子妆',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/10.jpg',\n            type: 10\n          },\n          {\n            t: '美羊羊妆',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/11.jpg',\n            type: 11\n          },\n          {\n            t: '火影鸣人妆',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/12.jpg',\n            type: 12\n          },\n          {\n            t: '刀马旦妆\t',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/13.jpg',\n            type: 13\n          },\n          {\n            t: '泡泡妆\t',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/14.jpg',\n            type: 14\n          },\n          {\n            t: '桃花妆',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/15.jpg',\n            type: 15\n          },\n          {\n            t: '女皇妆',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/16.jpg',\n            type: 16\n          },\n          {\n            t: '权志龙',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/17.jpg',\n            type: 17\n          },\n          {\n            t: '撩妹妆',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/18.png',\n            type: 18\n          },\n          {\n            t: '印第安妆',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/19.jpg',\n            type: 19\n          },\n          {\n            t: '印度妆',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/20.jpg',\n            type: 20\n          },\n          {\n            t: '萌兔妆',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/21.jpg',\n            type: 21\n          },\n          {\n            t: '大圣妆',\n            ico: 'https://c.jiangwenqiang.com/api/facechange/22.png',\n            type: 22\n          }\n        ],\n        fn: 'faceChange'\n      },\n      {\n        title: '大头贴',\n        style: 'background-image: linear-gradient(135deg, #90F7EC 0%, #32CCBC 100%)',\n        choose: [\n          {\n            t: 'NewDay',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/1.png',\n            type: 1\n          },\n          {\n            t: '欢乐球吃球1',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/2.jpg',\n            type: 2\n          },\n          {\n            t: 'Bonvoyage',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/3.jpg',\n            type: 3\n          },\n          {\n            t: 'Enjoy',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/4.png',\n            type: 4\n          },\n          {\n            t: 'ChickenSpring',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/5.png',\n            type: 5\n          },\n          {\n            t: 'ChristmasShow',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/6.png',\n            type: 6\n          },\n          {\n            t: 'ChristmasSnow',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/7.png',\n            type: 7\n          },\n          {\n            t: 'CircleCat',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/8.jpg',\n            type: 8\n          },\n          {\n            t: 'CircleMouse',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/9.jpg',\n            type: 9\n          },\n          {\n            t: 'CirclePig',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/10.jpg',\n            type: 10\n          },\n          {\n            t: 'Comicmn',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/11.png',\n            type: 11\n          },\n          {\n            t: 'CuteBaby',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/12.jpg',\n            type: 12\n          },\n          {\n            t: 'Envolope',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/13.jpg',\n            type: 13\n          },\n          {\n            t: 'Fairytale',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/14.jpg',\n            type: 14\n          },\n          {\n            t: 'GoodNight',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/15.jpg',\n            type: 15\n          },\n          {\n            t: 'HalloweenNight',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/16.jpg',\n            type: 16\n          },\n          {\n            t: 'LovelyDay',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/17.jpg',\n            type: 17\n          },\n          {\n            t: 'Newyear2017',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/18.png',\n            type: 18\n          },\n          {\n            t: 'PinkSunny',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/19.png',\n            type: 19\n          },\n          {\n            t: 'KIRAKIRA',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/20.jpg',\n            type: 20\n          },\n          {\n            t: '欢乐球吃球2',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/21.jpg',\n            type: 21\n          },\n          {\n            t: 'SnowWhite',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/22.png',\n            type: 22\n          },\n          {\n            t: 'SuperStar',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/23.png',\n            type: 23\n          },\n          {\n            t: 'WonderfulWork',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/24.png',\n            type: 24\n          },\n          {\n            t: 'Cold',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/25.png',\n            type: 25\n          },\n          {\n            t: '狼人杀守卫',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/26.jpg',\n            type: 26\n          },\n          {\n            t: '狼人杀猎人',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/27.jpg',\n            type: 27\n          },\n          {\n            t: '狼人杀预言家',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/28.jpg',\n            type: 28\n          },\n          {\n            t: '狼人杀村民',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/29.jpg',\n            type: 29\n          },\n          {\n            t: '狼人杀女巫',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/30.jpg',\n            type: 30\n          },\n          {\n            t: '狼人杀狼人',\n            ico: 'https://c.jiangwenqiang.com/api/bighead/31.jpg',\n            type: 31\n          },\n        ],\n        fn: 'bigHead'\n      },\n      {\n        title: '颜龄检测',\n        style: 'background-image: linear-gradient(135deg, #5EFCE8 0%, #736EFE 100%)',\n        choose: [\n          {\n            t: '点击检测',\n            ico: 'https://7465-teach-1258324355.tcb.qcloud.la/image/facetest.jpg',\n            type: 1\n          }\n        ],\n        fn: 'peopleAge'\n      },\n      {\n        title: '人脸美妆',\n        style: 'background-image: linear-gradient(135deg, #FAD7A1 0%, #E96D71 100%)',\n        choose: [\n          {\n            t: '日系妆\t芭比粉',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/1.png',\n            type: 1\n          },\n          {\n            t: '日系妆\t清透',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/2.png',\n            type: 2\n          },\n          {\n            t: '日系妆\t烟灰',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/3.png',\n            type: 3\n          },\n          {\n            t: '日系妆\t自然',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/4.png',\n            type: 4\n          },\n          {\n            t: '日系妆\t樱花粉',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/5.png',\n            type: 5\n          },\n          {\n            t: '日系妆\t原宿红',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/6.png',\n            type: 6\n          },\n          {\n            t: '韩妆\t闪亮',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/7.png',\n            type: 7\n          },\n          {\n            t: '韩妆\t闪亮',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/8.png',\n            type: 8\n          },\n          {\n            t: '韩妆\t粉嫩',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/9.png',\n            type: 9\n          },\n          {\n            t: '韩妆\t自然\t',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/10.png',\n            type: 10\n          },\n          {\n            t: '韩妆\t清透',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/11.png',\n            type: 11\n          },\n          {\n            t: '韩妆\t大地色',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/12.png',\n            type: 12\n          },\n          {\n            t: '韩妆\t玫瑰',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/13.png',\n            type: 13\n          },\n          {\n            t: '裸妆\t自然',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/14.png',\n            type: 14\n          },\n          {\n            t: '裸妆\t清透',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/15.png',\n            type: 15\n          },{\n            t: '裸妆\t桃粉',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/16.png',\n            type: 16\n          },\n          {\n            t: '裸妆\t橘粉',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/17.png',\n            type: 17\n          },\n          {\n            t: '裸妆\t春夏',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/18.png',\n            type: 18\n          },\n          {\n            t: '裸妆\t秋冬',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/19.png',\n            type: 19\n          },\n          {\n            t: '主题妆\t经典复古',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/20.png',\n            type: 20\n          },\n          {\n            t: '主题妆\t性感混血',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/21.png',\n            type: 21\n          },\n          {\n            t: '主题妆\t炫彩明眸',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/22.png',\n            type: 22\n          },\n          {\n            t: '主题妆\t紫色魅惑',\n            ico: 'https://c.jiangwenqiang.com/api/peoplebeauty/23.png',\n            type: 23\n          }\n        ],\n        fn: 'peopleBeauty'\n      }\n    ],\n    chooseIndex: -1\n  },\n  showOriginal () {\n    this.setData({\n      original: !this.data.original\n    })\n  },\n  peopleBeauty (base64Img, model) {\n    let that = this\n    let params = {\n      app_id: app_id,\n      image: base64Img,\n      nonce_str: Math.random().toString(36).substr(2),\n      cosmetic: model.currentTarget.dataset.type || 1,\n      time_stamp: parseInt(new Date().getTime() / 1000).toString()\n    }\n    params['sign'] = this.genRequestSign(params)\n    // console.log(params);\n    app.wxrequest({\n      url: 'https://api.ai.qq.com/fcgi-bin/ptu/ptu_facecosmetic',\n      method: 'POST',\n      header: 'application/x-www-form-urlencoded',\n      data: params,\n      success (res) {\n        wx.hideLoading()\n        if (res.data.ret != 0) {\n          return wx.showToast({\n            title: res.data.msg\n          })\n        }\n        that.setData({\n          BackshowImg: \"data:image/png;base64,\" + res.data.data.image\n        })\n      },\n      fail () {\n        wx.hideLoading()\n        wx.showToast({\n          title: '囧服务器崩了'\n        })\n      }\n    })\n  },\n  bigHead (base64Img, model) {\n    let that = this\n    let params = {\n      app_id: app_id,\n      image: base64Img,\n      nonce_str: Math.random().toString(36).substr(2),\n      sticker: model.currentTarget.dataset.type || 1,\n      time_stamp: parseInt(new Date().getTime() / 1000).toString()\n    }\n    params['sign'] = this.genRequestSign(params)\n    // console.log(params);\n    app.wxrequest({\n      url: 'https://api.ai.qq.com/fcgi-bin/ptu/ptu_facesticker',\n      method: 'POST',\n      header: 'application/x-www-form-urlencoded',\n      data: params,\n      success (res) {\n        wx.hideLoading()\n        if (res.data.ret != 0) {\n          return wx.showToast({\n            title: res.data.msg\n          })\n        }\n        that.setData({\n          BackshowImg: \"data:image/png;base64,\" + res.data.data.image\n        })\n      },\n      fail () {\n        wx.hideLoading()\n        wx.showToast({\n          title: '囧服务器崩了'\n        })\n      }\n    })\n  },\n  faceChange (base64Img, model) {\n    let that = this\n    let params = {\n      app_id: app_id,\n      image: base64Img,\n      nonce_str: Math.random().toString(36).substr(2),\n      decoration: model.currentTarget.dataset.type || 1,\n      time_stamp: parseInt(new Date().getTime() / 1000).toString()\n    }\n    params['sign'] = this.genRequestSign(params)\n    // console.log(params);\n    app.wxrequest({\n      url: 'https://api.ai.qq.com/fcgi-bin/ptu/ptu_facedecoration',\n      method: 'POST',\n      header: 'application/x-www-form-urlencoded',\n      data: params,\n      success (res) {\n        wx.hideLoading()\n        if (res.data.ret != 0) {\n          return wx.showToast({\n            title: res.data.msg\n          })\n        }\n        that.setData({\n          BackshowImg: \"data:image/png;base64,\" + res.data.data.image\n        })\n      },\n      fail () {\n        wx.hideLoading()\n        wx.showToast({\n          title: '囧服务器崩了'\n        })\n      }\n    })\n  },\n  worldFilter (base64Img, model) {\n    let that = this\n    let params = {\n      app_id: app_id,\n      image: base64Img,\n      nonce_str: Math.random().toString(36).substr(2),\n      session_id: Math.random().toString(36),\n      filter: model.currentTarget.dataset.type || 1,\n      time_stamp: parseInt(new Date().getTime() / 1000).toString()\n    }\n    params['sign'] = this.genRequestSign(params)\n    // console.log(params);\n    app.wxrequest({\n      url: 'https://api.ai.qq.com/fcgi-bin/vision/vision_imgfilter',\n      method: 'POST',\n      header: 'application/x-www-form-urlencoded',\n      data: params,\n      success (res) {\n        wx.hideLoading()\n        if (res.data.ret != 0) {\n          return wx.showToast({\n            title: res.data.msg\n          })\n        }\n        that.setData({\n          BackshowImg: \"data:image/png;base64,\" + res.data.data.image\n        })\n      },\n      fail () {\n        wx.hideLoading()\n        wx.showToast({\n          title: '囧服务器崩了'\n        })\n      }\n    })\n  },\n  // 人物滤镜\n  peopleFilter (base64Img, model) {\n    let that = this\n    let params = {\n      app_id: app_id,\n      image: base64Img,\n      nonce_str: Math.random().toString(36).substr(2),\n      filter: model.currentTarget.dataset.type || 1,\n      time_stamp: parseInt(new Date().getTime() / 1000).toString()\n    }\n    params['sign'] = this.genRequestSign(params)\n    // console.log(params);\n    app.wxrequest({\n      url: 'https://api.ai.qq.com/fcgi-bin/ptu/ptu_imgfilter',\n      method: 'POST',\n      header: 'application/x-www-form-urlencoded',\n      data: params,\n      success (res) {\n        wx.hideLoading()\n        if (res.data.ret != 0) {\n          return wx.showToast({\n            title: res.data.msg\n          })\n        }\n        that.setData({\n          BackshowImg: \"data:image/png;base64,\" + res.data.data.image\n        })\n      },\n      fail () {\n        wx.hideLoading()\n        wx.showToast({\n          title: '囧服务器崩了'\n        })\n      }\n    })\n  },\n  // 选择图片\n  chooseModel (e) {\n    this.setData({\n      chooseIndex: e.currentTarget.dataset.index == this.data.chooseIndex ? -1 : e.currentTarget.dataset.index,\n      showImg: this.data.showImgs,\n      original: false,\n      BackshowImg: ''\n    })\n  },\n  chooseImage () {\n    let that = this\n    wx.chooseImage({\n      count: 1,\n      sizeType: ['compressed'],\n      success (res) {\n        console.log(res)\n        wx.getImageInfo({\n          src: res.tempFilePaths[0],\n          success (res2) {\n            if (res2.type != 'jpg' && res2.type != 'png' && res2.type != 'jpeg') {\n              return wx.showToast({\n                title: `不支持${res2.type}格式`\n              })\n            } else if (res.tempFiles[0].size > 5242880) {\n              return wx.showToast({\n                title: '超过5M体积过大'\n              })\n            }\n            that.setData({\n              showImg: res.tempFilePaths[0],\n              userImg: res.tempFilePaths[0],\n              BackshowImg: null\n            })\n            manager.readFile({\n                filePath: res.tempFilePaths[0],\n                encoding: 'base64',\n                success (res) {\n                  base64 = res.data\n                  // that[that.data.lists[that.data.chooseIndex]['fn']](res.data, e)\n                }\n              })\n            that.doUpload(res.tempFilePaths[0])\n          }\n        })\n      }\n    })\n  },\n  // 上传图片\n  doUpload (filePath) {\n    app.cloud().login()\n      .then(res => {\n        wx.cloud.uploadFile({\n          cloudPath: `userUp/${res.openid}` + new Date().getTime() + filePath.match(/\\.[^.]+?$/)[0],\n          filePath\n        })\n      })\n  },\n  getBottomList () {\n    let that = this\n    app.wxrequest({\n      url: app.data.baseDomain + '/api/tuFun.json',\n      data: {},\n      success (res) {\n        that.setData({\n          showImg: res.data[0].showImg,\n          showImgs: res.data[0].showImg,\n          bottomList: res.data[0].bottomList\n        })\n      }\n    })\n  },\n  // 获取腾讯AI机器视觉api\n  getApi (base64Img, model) {\n    let that = this\n    let params = {\n      app_id: app_id,\n      image: base64Img,\n      nonce_str: Math.random().toString(36).substr(2),\n      model: model || 1,\n      time_stamp: parseInt(new Date().getTime() / 1000).toString()\n    }\n    params['sign'] = this.genRequestSign(params)\n    // console.log(params);\n    app.wxrequest({\n      url: 'https://api.ai.qq.com/fcgi-bin/ptu/ptu_facemerge',\n      method: 'POST',\n      header: 'application/x-www-form-urlencoded',\n      data: params,\n      success (res) {\n        wx.hideLoading()\n        if (res.data.ret != 0) {\n          return wx.showToast({\n            title: '酷到无法识别'\n          })\n        }\n        that.setData({\n          BackshowImg: \"data:image/png;base64,\" + res.data.data.image\n        })\n      },\n      fail () {\n        wx.hideLoading()\n        wx.showToast({\n          title: '囧服务器崩了'\n        })\n      }\n    })\n  },\n  // 颜龄检测\n  peopleAge (base64Img, model) {\n    let that = this\n    let params = {\n      app_id: app_id,\n      image: base64Img,\n      nonce_str: Math.random().toString(36).substr(2),\n      time_stamp: parseInt(new Date().getTime() / 1000).toString()\n    }\n    params['sign'] = this.genRequestSign(params)\n    // console.log(params);\n    app.wxrequest({\n      url: 'https://api.ai.qq.com/fcgi-bin/ptu/ptu_faceage',\n      method: 'POST',\n      header: 'application/x-www-form-urlencoded',\n      data: params,\n      success (res) {\n        wx.hideLoading()\n        if (res.data.ret != 0) {\n          return wx.showToast({\n            title: res.data.msg\n          })\n        }\n        that.setData({\n          BackshowImg: \"data:image/png;base64,\" + res.data.data.image\n        })\n      },\n      fail () {\n        wx.hideLoading()\n        wx.showToast({\n          title: '囧服务器崩了'\n        })\n      }\n    })\n  },\n\n  genRequestSign (params)  {\n    // 1. 对请求参数按字典升序排序\n    params = this.sortObject(params)\n    // 2. 拼接键值对，value部分进行URL编码\n    let paramStr = ''\n    let keys = Object.keys(params)\n    for (let idx in keys) {\n      let key = keys[idx]\n      paramStr += key + '=' + encodeURIComponent(params[key]) + '&'\n    }\n    // 3. 拼接key\n    paramStr += 'app_key=' + app_key\n    // 4. md5\n    return md5.hexMD5(paramStr).toUpperCase()\n  },\n  sortObject (obj)  {\n    var keys = Object.keys(obj).sort()\n    var newObj = {}\n    for (var i = 0; i < keys.length; i++) {\n      newObj[keys[i]] = obj[keys[i]]\n    }\n    return newObj\n  },\n\n  getbase64 (e) {\n    if(this.data.showImg == 'https://7465-teach-1258324355.tcb.qcloud.la/image/photo2.png') {\n      return wx.showToast({\n        title: '请上传图片'\n      })\n    }\n    wx.showLoading({\n      title: '识别转换中',\n      mask: false\n    })\n    this[this.data.lists[this.data.chooseIndex]['fn']](base64, e)\n  },\n  setCanvas (wdith, height, model) {\n    let that = this\n    this.setData({\n      wdith,\n      height\n    })\n    let ctx = wx.createCanvasContext('myCanvas')\n    ctx.drawImage(this.data.userImg, 0, 0, wdith, height)\n    ctx.draw(false, () => {  // 基础库版本需在1.9.0以上\n      try {\n        wx.canvasGetImageData({\n          canvasId: 'myCanvas',\n          x: 0,\n          y: 0,\n          width: wdith,\n          height: height,\n          success(res) {\n            console.log(res)\n            // let platform = wx.getSystemInfoSync().platform\n            // if (platform == 'ios' && that.data.showImg !== 'https://7465-teach-1258324355.tcb.qcloud.la/image/photo2.png') {\n            //   res = that.reverseImgData(res)\n            // }\n            let pngData = ''\n            try {\n              pngData = upng.encode([res.data.buffer], res.width, res.height)\n            } catch (err) {\n              wx.showToast({\n                title:'换张图片试试',\n              })\n              return that.setData({\n                showImg: that.data.showImgs,\n                userImg: ''\n              })\n            }\n            let base64 = wx.arrayBufferToBase64(pngData)\n            that[that.data.lists[that.data.chooseIndex]['fn']](base64, model)\n          }\n        })\n      } catch(err) {\n        wx.showToast({\n          title:'请换张图片试试',\n        })\n        that.setData({\n          showImg: that.data.showImgs,\n          userImg: ''\n        })\n      }\n    })\n  },\n  reverseImgData(res) {\n    var w = res.width\n    var h = res.height\n    let con = 0\n    for (var i = 0; i < h / 2; i++) {\n      for (var j = 0; j < w * 4; j++) {\n        con = res.data[i * w * 4 + j]\n        res.data[i * w * 4 + j] = res.data[(h - i - 1) * w * 4 + j]\n        res.data[(h - i - 1) * w * 4 + j] = con\n      }\n    }\n    return res\n  },\n  savePhoto () {\n    wx.showLoading({\n      title: '图片保存中'\n    })\n    let that = this\n    wx.createSelectorQuery().select('#showImg').fields({\n      size: true\n    }, function (res) {\n      that.shareImg(res.width, res.height)\n    }).exec()\n  },\n  // 绘图分享图片\n  shareImg () {\n    let path = wx.env.USER_DATA_PATH + '/photo/temp.png'\n    manager.writeFileSync(path, this.data.BackshowImg.replace('data:image/png;base64,', ''), 'base64')\n    wx.saveImageToPhotosAlbum({\n      filePath: path,\n      success () {\n        wx.showToast({\n          title: '图片保存成功'\n        })\n      },\n      fail () {\n        wx.showToast({\n          title: '在设置中允许保存'\n        })\n      }\n    })\n  },\n\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad () {\n    // TODO: onLoad\n    let that = this\n    this.setData({\n      loading: true\n    })\n    wx.getSystemInfo({\n      success: function (res) {\n        that.setData({\n          pixelRatio: res.pixelRatio,\n          windowWidth: res.windowWidth,\n          windowHeight: res.windowHeight\n        })\n      }\n    })\n    // this.getBottomList()\n    app.cloud().getPhotoKey()\n      .then(res => {\n        app_key = res.k\n        app_id = res.i\n        that.setData({\n          loading: false\n        })\n      })\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    let that = this\n    setTimeout(function () {\n      that.setData({\n        noneed: true\n      })\n    }, 1500)\n    // TODO: onShow\n  },\n  onShareAppMessage: function () {\n    return {\n      title: '向您推荐一个有趣的小程序，快来围观吧',\n      path: '/pages/index/index'\n    }\n  },\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n    // let that = this\n    // let choose = this.data.choose\n    // if (choose === this.data.videoArr.length) {\n    //   let ojbs = {\n    //     url: that.data.secondUrl,\n    //     success (res) {\n    //       let videoArr = []\n    //       for (let i of res.data.data.data) {\n    //         // console.log(i['group']['480p_video']['url_list'][0])\n    //         videoArr.push(i['group']['480p_video']['url_list'][0]['url'].replace('http://', 'https://'))\n    //       }\n    //       // let videoArr = res.data.data.data\n    //       that.setData({\n    //         choose: 0,\n    //         videoArr: videoArr\n    //       })\n    //     }\n    //   }\n    //   app.wxrequest(ojbs)\n    // } else {\n    //   ++choose\n    //   this.setData({\n    //     choose: choose\n    //   })\n    // }\n    // this.setData({\n    //   autoplays: true\n    // })\n    // this.videoContext = wx.createVideoContext('videos')\n    // setTimeout(function () {\n    //   that.videoContext.play()\n    //   wx.stopPullDownRefresh()\n    // }, 200)\n  }\n})\n"]}